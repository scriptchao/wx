<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="./jquery-2.2.3.min.js"></script>
<script src="./weChat.js"></script>
<script>

    const weChat = new WeChat('test_token');

    if (localStorage.getItem(weChat.getToken())) {
        weChat.getUserInfo().then(data => {
            console.log('test',data)
        })

    }else {
        weChat.redirect('/test/auth.html')
    }

</script>
<body>
<div>hello world!</div>

</body>
<script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
<script>

    weChat.sign({
        title: 'javascript!',
        desc: 'hello world!',
        link: '',
        imgUrl: 'http://scriptchao.viphk.ngrok.org/static/img/a.jpg'
    });
    weChat.setClose()
</script>
</html>